"0","```r
pred_gt <- work %>% 
  rename(SA2 = area, value = count) %>% 
  # work_DAE %>%
  # select(Region, `2016-17`) %>%
  # rename(SA2 = Region, value = `2016-17`) %>%
  mutate(value = ifelse(SA2 == \"Parramatta - Rosehill\", 312247*1.5, value)) %>% #CBD
  # mutate(value = ifelse(SA2 == \"Northmead\", 119511.56, value)) %>% #North Sydney
  # mutate(value = ifelse(SA2 == \"North Parramatta\", 85065.03, value)) %>% #Pyrmont
  # mutate(value = ifelse(SA2 == \"Auburn\", 71547.08, value)) %>% #St Leonards
  # mutate(value = ifelse(SA2 == \"Badgerys Creek - Greendale\", 646187.8, value)) %>% #CBD
  gravity(cc = ., dcut = 10, dcoef = 1) %>% 
  filter(gravity > 0)
dd %>% 
  mutate(pred_gravity = pred_gt$gravity[.match(SA2, pred_gt$SA2)]) %>% 
  mutate(growth_gravity = log(pred_gravity) - log(gravity)) %>% #log(pred_gravity) - log(gravity)
  
  mutate(growth_income = coef(sar1)[[\"I(log(gravity) * edu)\"]]*growth_gravity*(edu)) %>%
  arrange(-growth_income) %>%
  
  # mutate(growth_income = (coef(sar1)[[\"ratio\"]] + 
  #                           coef(sar1)[[\"I(weighted.time * ratio)\"]]*weighted.time*0.5) * 
  #          ifelse(ratio > (ratio_p + ratio_b), ratio - ratio_p - ratio_b, 0)) %>% 
  
  # mutate(growth_income = coef(sar1)[[\"ratio\"]] * 
  #        ifelse(ratio > (ratio_p + ratio_b), ratio - ratio_p - ratio_b, 0)) %>% 
  mutate(growth_income_dollar = exp(growth_income + log(income)) - income) %>%
  dplyr::select(SA2, edu, gravity, pred_gravity, #growth_time, 
         ratio, ratio_p,
         growth_income, growth_income_dollar,
         growth_gravity, emp, pop) %>%
  # View()
  # summarise(comma(sum(pop * emp)))
  summarise(comma(sum(growth_income_dollar * pop * emp) * 52))
```"
